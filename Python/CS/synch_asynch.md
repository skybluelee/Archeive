# 동기, 비동기
**동기 (Synchronous)**
- 동기 코드는 순차적으로 실행된다. 한 작업이 시작되면 완료될 때까지 다른 작업을 수행하지 않는다.
- 동기 코드는 일반적으로 우리가 프로그래밍하는 전통적인 방식입니다. 코드는 위에서 아래로 순차적으로 실행되며, 한 작업이 완료되어야만 다음 작업이 시작됩니다.
- 동기 코드는 간단하고 예측 가능하지만, I/O 작업이나 네트워크 호출과 같은 블로킹 작업을 처리할 때 성능 문제가 발생할 수 있다. 이러한 작업은 시간이 오래 걸리기 때문에 다른 작업을 차단할 수 있다.

**비동기 (Asynchronous)**
- 비동기 코드는 작업을 시작한 다음 작업이 완료되지 않은 상태에서 다른 작업을 수행할 수 있다. 다른 작업을 수행하다가 완료되면 다시 해당 작업으로 돌아간다.
- 비동기 코드는 주로 I/O 바운드 작업을 처리할 때 유용하다. I/O 작업이 완료될 때까지 대기하지 않고 다른 작업을 수행할 수 있으므로 시스템 리소스를 효과적으로 활용할 수 있다.
- 비동기 코드를 작성하려면 async 및 await 키워드를 사용하여 코루틴을 정의하고 호출한다. 비동기 코드는 이벤트 루프와 함께 사용되며, 이 이벤트 루프가 작업의 실행을 관리한다.
- 비동기 프로그래밍은 병렬성 및 동시성을 활용하여 성능을 향상시키고, I/O 작업과 같이 대기 시간이 긴 작업을 처리하는 데 특히 유용하다. 그러나 복잡성이 증가하고 디버깅이 어려울 수 있으므로 올바르게 사용하는 데 주의가 필요하다.

파이썬에서 비동기 작업을 수행하려면 `asyncio` 라이브러리와 코루틴을 사용하거나, 새로운 비동기 런타임 또는 프레임워크를 활용할 수 있다.
## 루틴과 서브 루틴
```
def hap(a, b):
    return a + b


ret = hap(3, 4)
print(ret)
```
위와 같이 `hap` 함수가 정의되어 있다. 이때 함수를 호출하는 쪽을 루틴이라하고 호출된 함수(`hap`)를 서브 루틴이라 한다. 루틴이 서브 루틴을 호출하는 경우 서브 루틴이 리턴할 때까지 루틴은 대기하게 된다. 서브 루틴이 종료되면 실행의 흐름이 원래의 루틴으로 돌아오며 이때 서브 루틴이 리턴한 값을 루틴에서 사용한다.
## 코루틴
코루틴은 함수 실행을 일시 중지하고 다시 시작할 수 있는 특별한 종류의 함수로, 다른 함수로부터 제어를 양보하고 반환하지 않는다는 점에서 일반적인 함수와 다르다. 코루틴은 주로 비동기 작업을 처리하고, 이벤트 루프와 함께 사용되어 동시성 작업을 조율하는 데 유용하다
```
async def my_coroutine():
    # 코루틴 내부에서 비동기 작업 수행
    await some_async_function()
    # 계속해서 다른 작업을 수행할 수 있음
```
코루틴은 함수 선언시에 `async def`를 사용한다.

위 코드에서 `async def`로 정의된 `my_coroutine` 함수는 코루틴이며, `await` 키워드를 사용하여 비동기 작업을 수행하고 다른 작업으로 양보한다.

코루틴을 호출하면 실행이 시작되지만 함수 실행이 완료되지 않는다. 대신, 다른 코루틴 또는 비동기 작업에 의해 양보될 때까지 일시 중지된 상태로 남게 된다. 양보가 일어나면 실행을 재개할 수 있다.

코루틴은 비동기 작업뿐만 아니라 제너레이터와 비슷한 방식으로 값을 생성할 수 있다. 이를 통해 데이터 스트림을 생성하거나 처리하는 데 사용될 수 있다.

코루틴을 사용하면 동시성을 효과적으로 관리하고 비동기 작업을 보다 직관적으로 작성할 수 있으며, 이를 통해 복잡한 비동기 코드를 더 쉽게 이해하고 유지보수할 수 있다.
